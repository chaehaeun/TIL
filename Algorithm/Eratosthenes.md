### 에라토스테네스의 체

문제풀이를 하는데 저번에 소수 구했던 때처럼 isPrime() 함수를 만들어서 썼는데, 똑같이 하니까 시간 초과로 케이스 하나가 오답으로 나왔다...

찾아보니까 특정 구간 안에서 소수를 구하는 건 에..에라토스테네스의 체를 쓰면 가장 좋다고 한다. 이름도 어려워서 짱남.

![](https://velog.velcdn.com/images/chaehe_3210/post/e8201c19-9078-42ae-8fdc-3da1ae989642/image.gif)

1. 2부터 소수를 구하고자 하는 구간의 모든 수를 나열한다. 그림에서 회색 사각형으로 두른 수들이 2. 여기에 해당한다.
2. 2는 소수이므로 오른쪽에 2를 쓴다. (빨간색)
3. 자기 자신을 제외한 2의 배수를 모두 지운다.
4. 남아있는 수 가운데 3은 소수이므로 오른쪽에 3을 쓴다. (초록색)
5. 자기 자신을 제외한 3의 배수를 모두 지운다.
6. 남아있는 수 가운데 5는 소수이므로 오른쪽에 5를 쓴다. (파란색)
7. 자기 자신을 제외한 5의 배수를 모두 지운다.
8. 남아있는 수 가운데 7은 소수이므로 오른쪽에 7을 쓴다. (노란색)
9. 자기 자신을 제외한 7의 배수를 모두 지운다.
10. 위의 과정을 반복하면 구하는 구간의 모든 소수가 남는다.

이미지를 보면 무슨 흐름인지 단박에 이해가 가는데 코드로 구현하는데에 머리가 계속 안 돌아갔다...

<br/>

결국 남의 코드 긁어왔다는 말임

```js
function solution(n) {
  let answer = 0;
  const arr = new Array(n + 1).fill(true); // 초깃값 설정

  for (let i = 2; i <= Math.sqrt(n); ++i) {
    // 제곱근으로 연산 횟수를 줄임
    // 이미 소수가 아닌 인덱스는 건너뛴다.
    if (arr[i] === false) {
      continue;
    }
    // 소수가 아닌 데이터는 false로 입력한다.
    for (let k = i * i; k <= n; k += i) {
      arr[k] = false;
    }
  }
  // 소수의 갯수를 구한다.
  for (let i = 2; i <= n; ++i) {
    if (arr[i] === true) {
      answer++;
    }
  }
  return answer;
}
// 출처 https://velog.io/@goblin820/코딩테스트-JavaScript-프로그래머스-소수-찾기
```

`Math.sqrt()`가 진짜 오만데서 다 튀어나온다...하...소수 약수 어쩌고 단어만 나오면 일단 이거부터 꺼내고 봄 😂
